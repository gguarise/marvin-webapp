<app-page-header title="Cadastro de Cliente"
                 [showSaveButton]="true"
                 [showEditButton]="false"
                 [showUndoButton]="true"
                 (saveEvent)="salvar()"
                 (undoEvent)="descartar()"></app-page-header>
<form [formGroup]="mainForm">
    <mat-tab-group>
        <mat-tab label="Dados">
            <div fxFlex>
                <mat-form-field fxFlex
                                appearance="fill">
                    <mat-label>Nome</mat-label>
                    <input matInput
                           formControlName="nome"
                           type="text" />
                    <mat-error *ngIf="mainForm.get('nome')?.invalid">
                        {{getErrorMessage(mainForm.get('nome'))}}
                    </mat-error>
                </mat-form-field>
            </div>

            <div fxFlex
                 fxLayout="row"
                 fxLayoutAlign="space-between center">
                <mat-form-field fxFlex="18"
                                appearance="fill">
                    <mat-label>Contato Principal</mat-label>
                    <input matInput
                           formControlName="contatoPrincipal"
                           [textMask]="{mask: telefoneMaskConfig}" />
                    <mat-error *ngIf="mainForm.get('contatoPrincipal')?.invalid">
                        {{getErrorMessage(mainForm.get('contatoPrincipal'))}}
                    </mat-error>
                </mat-form-field>

                <mat-form-field fxFlex="80"
                                appearance="fill">
                    <mat-label>E-mail</mat-label>
                    <input matInput
                           formControlName="email" />
                    <mat-error *ngIf="mainForm.get('email')?.invalid">{{getErrorMessage(mainForm.get('email'))}}
                    </mat-error>
                </mat-form-field>
            </div>

            <div fxFlex
                 fxLayout="row"
                 fxLayoutAlign="space-between center">
                <mat-form-field fxFlex="49"
                                appearance="fill">
                    <mat-label>CPF</mat-label>
                    <input matInput
                           formControlName="cpf"
                           [textMask]="{mask: cpfMaskConfig}" />
                    <mat-error *ngIf="mainForm.get('cpf')?.invalid">
                        {{getErrorMessage(mainForm.get('cpf'))}}
                    </mat-error>
                </mat-form-field>

                <mat-form-field fxFlex="49"
                                appearance="fill">
                    <mat-label>CEP</mat-label>
                    <input matInput
                           formControlName="cep"
                           [textMask]="{mask: cepMaskConfig}"
                           (blur)="searchEndereco()" />
                    <mat-error *ngIf="mainForm.get('cep')?.invalid">{{getErrorMessage(mainForm.get('cep'))}}
                    </mat-error>
                </mat-form-field>
            </div>

            <div fxFlex>
                <mat-form-field fxFlex
                                appearance="fill">
                    <mat-label>Endereço</mat-label>
                    <textarea matInput
                              formControlName="endereco"
                              cdkTextareaAutosize
                              #autosize="cdkTextareaAutosize"
                              cdkAutosizeMinRows="1"
                              cdkAutosizeMaxRows="5"></textarea>
                    <mat-error *ngIf="mainForm.get('endereco')?.invalid">
                        {{getErrorMessage(mainForm.get('endereco'))}}
                    </mat-error>
                </mat-form-field>
            </div>

        </mat-tab>
        <!-- <mat-tab label="Carros">
        </mat-tab>
        <mat-tab label="Orçamentos">
        </mat-tab>
        <mat-tab label="Atendimentos">
        </mat-tab> -->
    </mat-tab-group>
</form>