<div class="container text-center">
    <app-page-header title="OrÃ§amentos"
                     [showSaveButton]="false"
                     [showEditButton]="false"
                     [showUndoButton]="false"
                     [showNewButton]="true"
                     newButtonRoute="/cadastro-orcamento">
    </app-page-header>

    <div class="table-container"
         [class.mat-elevation-z4]="true">
        <mat-table [dataSource]="dataSource">
            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns; let i = index"
                     [class.invalid-table-row]="row.invalid"
                     (click)="click$.next({event: $event, element: row.controls})">
                >
            </mat-row>

            <ng-container matColumnDef="clienteId">
                <mat-header-cell fxFlex="50"
                                 fxLayoutAlign="center center"
                                 *matHeaderCellDef>
                    Cliente
                </mat-header-cell>
                <mat-cell fxFlex="50"
                          *matCellDef="let element"
                          [formGroup]="element">
                    <mat-form-field fxLayout="column">
                        <input matInput
                               formControlName="clienteId" />
                        <mat-error>
                            {{ getErrorMessage(element.get("clienteId")) }}
                        </mat-error>
                    </mat-form-field>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="carroId">
                <mat-header-cell fxFlex
                                 fxLayoutAlign="center center"
                                 *matHeaderCellDef>
                    Carro
                </mat-header-cell>
                <mat-cell fxFlex
                          *matCellDef="let element"
                          [formGroup]="element">
                    <mat-form-field fxLayout="column">
                        <input matInput
                               formControlName="carroId" />
                        <mat-error>
                            {{ getErrorMessage(element.get("carroId")) }}
                        </mat-error>
                    </mat-form-field>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="dataOrcamento">
                <mat-header-cell fxFlex
                                 fxLayoutAlign="center center"
                                 *matHeaderCellDef>
                    Telefone
                </mat-header-cell>
                <mat-cell fxFlex
                          *matCellDef="let element"
                          [formGroup]="element">
                    <mat-form-field fxLayout="column">
                        <input matInput
                               formControlName="dataOrcamento" />
                        <mat-error>
                            {{ getErrorMessage(element.get("telefone")) }}
                        </mat-error>
                    </mat-form-field>
                </mat-cell>
            </ng-container>

        </mat-table>
    </div>
    <div [class.mat-elevation-z2]="true">
        <mat-paginator [pageSize]="10"
                       [pageSizeOptions]="[5, 10]"></mat-paginator>
    </div>
</div>